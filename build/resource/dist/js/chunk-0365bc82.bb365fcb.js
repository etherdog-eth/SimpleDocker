(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0365bc82"],{"159b":function(t,e,n){var o=n("da84"),r=n("fdbc"),a=n("17c2"),i=n("9112");for(var c in r){var s=o[c],l=s&&s.prototype;if(l&&l.forEach!==a)try{i(l,"forEach",a)}catch(u){l.forEach=a}}},"17c2":function(t,e,n){"use strict";var o=n("b727").forEach,r=n("a640"),a=n("ae40"),i=r("forEach"),c=a("forEach");t.exports=i&&c?[].forEach:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}},"1d4e":function(t,e,n){"use strict";n("214f")},"214f":function(t,e,n){},"324b":function(t,e,n){"use strict";n("c4ca")},"3dad":function(t,e,n){"use strict";var o=n("bc3a"),r=n.n(o),a=n("218c"),i=n.n(a);function c(t){var e=r.a.get("/api/container/run",{params:t});return f(e),e}function s(t){return r.a.get("/api/image/".concat(t))}function l(){var t=r.a.delete("/api/image/prune");return f(t),t}function u(t){var e=r.a.get("/api/image/tag",{params:t});return f(e),e}function f(t){t.then((function(t){var e=t.data,n=e.Code,o=e.Msg;"OK"!==n&&i.a["warning"]({message:"操作失败",description:o})})).catch((function(t){console.log("访问出现异常:".concat(t)),i.a["error"]({message:"操作失败",description:"操作失败,请检查 Docker 服务是否正常"})}))}e["a"]={runNewContainer:c,pruneImage:l,getImageInfo:s,renameImage:u}},4160:function(t,e,n){"use strict";var o=n("23e7"),r=n("17c2");o({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"498a":function(t,e,n){"use strict";var o=n("23e7"),r=n("58a8").trim,a=n("c8d2");o({target:"String",proto:!0,forced:a("trim")},{trim:function(){return r(this)}})},"4de4":function(t,e,n){"use strict";var o=n("23e7"),r=n("b727").filter,a=n("1dde"),i=n("ae40"),c=a("filter"),s=i("filter");o({target:"Array",proto:!0,forced:!c||!s},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},"56a8":function(t,e,n){"use strict";n("abeb")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var o=n("1d80"),r=n("5899"),a="["+r+"]",i=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),s=function(t){return function(e){var n=String(o(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(c,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},a434:function(t,e,n){"use strict";var o=n("23e7"),r=n("23cb"),a=n("a691"),i=n("50c4"),c=n("7b0b"),s=n("65f0"),l=n("8418"),u=n("1dde"),f=n("ae40"),p=u("splice"),m=f("splice",{ACCESSORS:!0,0:0,1:2}),d=Math.max,h=Math.min,v=9007199254740991,b="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!p||!m},{splice:function(t,e){var n,o,u,f,p,m,g=c(this),y=i(g.length),x=r(t,y),C=arguments.length;if(0===C?n=o=0:1===C?(n=0,o=y-x):(n=C-2,o=h(d(a(e),0),y-x)),y+n-o>v)throw TypeError(b);for(u=s(g,o),f=0;f<o;f++)p=x+f,p in g&&l(u,f,g[p]);if(u.length=o,n<o){for(f=x;f<y-o;f++)p=f+o,m=f+n,p in g?g[m]=g[p]:delete g[m];for(f=y;f>y-o+n;f--)delete g[f-1]}else if(n>o)for(f=y-o;f>x;f--)p=f+o-1,m=f+n-1,p in g?g[m]=g[p]:delete g[m];for(f=0;f<n;f++)g[f+x]=arguments[f+2];return g.length=y-o+n,u}})},abeb:function(t,e,n){},acb8:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-steps",{attrs:{current:t.currentStepIndex},on:{change:t.onStepChange}},t._l(this.stepsInfo,(function(t){return n("a-step",{key:t.title,attrs:{title:t.title,description:t.description}})})),1),n("div",{attrs:{id:"containerInfoStep"}},[n("div",{staticClass:"containerInfo"},[0===t.currentStepIndex?n("ContainerBaseInfo"):t._e(),1===t.currentStepIndex?n("ContainerStoreInfo"):t._e(),2===t.currentStepIndex?n("ContainerNetworkInfo"):t._e(),3===t.currentStepIndex?n("ContainerEnvInfo"):t._e(),4===t.currentStepIndex?n("ContainerComplete"):t._e()],1)])],1)},r=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-form-model",{attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[n("a-form-model-item",{attrs:{label:"镜像名称"}},[n("a-input",{attrs:{placeholder:"请输入镜像名称",disabled:""},model:{value:t.form.imageTag,callback:function(e){t.$set(t.form,"imageTag",e)},expression:"form.imageTag"}})],1),n("a-form-model-item",{attrs:{label:"镜像ID"}},[n("a-input",{attrs:{placeholder:"请输入镜像ID",disabled:""},model:{value:t.form.imageId,callback:function(e){t.$set(t.form,"imageId",e)},expression:"form.imageId"}})],1),n("a-form-model-item",{attrs:{label:"容器名称"}},[n("a-input",{attrs:{placeholder:"请输入容器名称，为空则随机生成"},model:{value:t.form.containerName,callback:function(e){t.$set(t.form,"containerName",e)},expression:"form.containerName"}},[n("a-tooltip",{attrs:{slot:"suffix",title:"参数说明"},slot:"suffix"},[n("a-icon",{attrs:{type:"info-circle"},on:{click:function(e){return t.showNameInfo()}}})],1)],1)],1),n("a-form-model-item",{attrs:{label:"最大重启次数"}},[n("a-input",{attrs:{placeholder:"请输入最大重启次数"},model:{value:t.form.maxRestartCount,callback:function(e){t.$set(t.form,"maxRestartCount",e)},expression:"form.maxRestartCount"}},[n("a-tooltip",{attrs:{slot:"suffix",title:"参数说明"},slot:"suffix"},[n("a-icon",{attrs:{type:"info-circle"},on:{click:function(e){return t.showMaxRestartCountInfo()}}})],1)],1)],1),n("a-form-model-item",{attrs:{label:"主机名称"}},[n("a-input",{attrs:{placeholder:"请输入主机名称,为空则随机生成"},model:{value:t.form.hostname,callback:function(e){t.$set(t.form,"hostname",e)},expression:"form.hostname"}},[n("a-tooltip",{attrs:{slot:"suffix",title:"参数说明"},slot:"suffix"},[n("a-icon",{attrs:{type:"info-circle"},on:{click:function(e){return t.showHostNameInfo()}}})],1)],1)],1),n("a-form-model-item",{attrs:{label:"CPU限制"}},[n("a-input",{attrs:{min:0,type:"number",placeholder:"请输入CPU核心使用限制"},model:{value:t.form.cpuCoreLimit,callback:function(e){t.$set(t.form,"cpuCoreLimit",e)},expression:"form.cpuCoreLimit"}},[n("a-tooltip",{attrs:{slot:"suffix",title:"参数说明"},slot:"suffix"},[n("a-icon",{attrs:{type:"info-circle"},on:{click:function(e){return t.showCpuInfo()}}})],1)],1)],1),n("a-form-model-item",{attrs:{label:"内存限制"}},[n("a-input",{attrs:{min:0,type:"number",placeholder:"内存资源使用限制"},model:{value:t.form.memoryLimit,callback:function(e){t.$set(t.form,"memoryLimit",e)},expression:"form.memoryLimit"}},[n("a-tooltip",{attrs:{slot:"suffix",title:"参数说明"},slot:"suffix"},[n("a-icon",{attrs:{type:"info-circle"},on:{click:function(e){return t.showMemoryInfo()}}})],1)],1)],1)],1),n("div",{staticClass:"btnGroup",staticStyle:{display:"flex","justify-content":"center"}},[n("a-space",[n("a-button",{attrs:{type:"danger"},on:{click:t.$parent.cancelRunNewContainer}},[n("a-icon",{attrs:{type:"close-circle"}}),t._v(" 取消创建 ")],1),n("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.$parent.nextStep()}}},[t._v(" 下一步 "),n("a-icon",{attrs:{type:"arrow-right"}})],1)],1)],1)],1)},i=[],c={name:"ContainerBaseInfo",data:function(){return{form:{},labelCol:{span:4},wrapperCol:{span:20}}},mounted:function(){var t=this.form=this.$store.state.container.createContainerStore;t.imageTag=this.$route.query.imageTag,t.imageId=this.$route.query.imageId},methods:{showCpuInfo:function(){var t="此参数用于限制容器使用的CPU核心数，使用0的时候表示不限制CPU的使用。当您修改此参数的时候时候，您必须了解到一些镜像可能有最小CPU核心数的要求，如果低于此参数可能会造成容器创建失败";this.showInfo("CPU核心数限制说明",t)},showMemoryInfo:function(){var t="此参数用于限制容器使用的内存大小，使用0的时候表示不限制内存的使用。当您修改此参数的时候时候，您必须了解到一些镜像可能有最小内存的要求，如果低于此参数可能会造成容器创建或者启动失败";this.showInfo("内存参数说明",t)},showHostNameInfo:function(){var t="此参数设置容器的主机名，当此参数为空值的时候，容器会随机生成主机名！";this.showInfo("主机名参数说明",t)},showMaxRestartCountInfo:function(){var t="此参数设置容器的最大重启次数，当容器停止的时候，其会再次尝试重启，直到重启次数超过此值，当此参数为0的时候，容器不会自动重启！";this.showInfo("主机名参数说明",t)},showNameInfo:function(){var t="此参数设置容器名，当此参数为空值的时候，容器会随机生成容器名！";this.showInfo("容器名参数说明",t)},showInfo:function(t,e){this.$warning({title:t,content:e,okText:"知道了"})}}},s=c,l=n("2877"),u=Object(l["a"])(s,a,i,!1,null,"ee4eacc6",null),f=u.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-form-model",{attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[t._l(t.form.mountDirList,(function(e,o){return n("a-form-model-item",{key:o,attrs:{label:"目录挂载"}},[n("a-input",{attrs:{value:e.hostDir+":"+e.containerDir,disabled:""}},[n("a-tooltip",{attrs:{slot:"suffix",title:"移除此挂载"},slot:"suffix"},[n("a-icon",{staticStyle:{color:"red"},attrs:{type:"close-circle"},on:{click:function(n){return t.removeMountDir(e)}}})],1)],1)],1)})),n("a-form-model-item",t._b({},"a-form-model-item",t.addBtnCol,!1)),n("div",{staticClass:"btnGroup",staticStyle:{display:"flex","justify-content":"center","margin-top":"30px"}},[n("a-space",[n("a-button",{staticStyle:{"margin-left":"10px"},on:{click:function(e){return t.$parent.upStep()}}},[n("a-icon",{attrs:{type:"arrow-left"}}),t._v(" 上一步 ")],1),t.form.mountDirList.length<=4?n("a-button",{on:{click:t.openMountModal}},[n("a-icon",{attrs:{type:"plus-circle"}}),t._v(" 新增挂载 ")],1):t._e(),n("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.$parent.nextStep()}}},[t._v(" 下一步 "),n("a-icon",{attrs:{type:"arrow-right"}})],1)],1)],1),n("a-modal",{attrs:{title:"新增目录挂载/存储卷挂载"},on:{ok:t.addMount},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[n("a-form-model",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}},model:{value:t.mountForm,callback:function(e){t.mountForm=e},expression:"mountForm"}},["dir"===t.mountForm.type?n("a-form-model-item",{attrs:{label:"宿主机目录"}},[n("a-input",{model:{value:t.mountForm.hostDir,callback:function(e){t.$set(t.mountForm,"hostDir",e)},expression:"mountForm.hostDir"}})],1):t._e(),n("a-form-model-item",{attrs:{label:"容器目录"}},[n("a-input",{model:{value:t.mountForm.containerDir,callback:function(e){t.$set(t.mountForm,"containerDir",e)},expression:"mountForm.containerDir"}})],1)],1)],1)],2)},m=[],d=(n("c975"),n("a434"),n("498a"),{name:"ContainerInfo",data:function(){return{form:{},visible:!1,labelCol:{span:4},wrapperCol:{span:20},addBtnCol:{wrapperCol:{xs:{span:24,offset:0},sm:{span:24,offset:4}}},mountForm:{type:"dir",containerDir:"",hostDir:""}}},mounted:function(){this.form=this.$store.state.container.createContainerStore},methods:{openMountModal:function(){this.visible=!0},addMount:function(){var t=this.mountForm;if(""!==t.containerDir.trim()&&""!==t.hostDir.trim()){t.hostDir=t.hostDir.trim(),t.containerDir=t.containerDir.trim();var e=JSON.parse(JSON.stringify(t));this.form.mountDirList.push(e),this.visible=!1}else this.$message.warn("宿主机目录或者容器目录不能为空")},removeMountDir:function(t){var e=this.form.mountDirList.indexOf(t);-1!==e&&this.form.mountDirList.splice(e,1)}}}),h=d,v=Object(l["a"])(h,p,m,!1,null,"51a23a96",null),b=v.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-form-model",{attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[n("a-form-model-item",{attrs:{label:"绑定网络"},model:{value:t.form.bindNet,callback:function(e){t.$set(t.form,"bindNet",e)},expression:"form.bindNet"}},[n("a-select",{attrs:{"default-value":"none"}},[t._l(t.networkList,(function(e){return[n("a-select-option",{key:e.Id,attrs:{value:e.Name}},[t._v(" "+t._s(e.Name)+" ")])]}))],2)],1),t._l(t.form.portMapping,(function(e,o){return n("a-form-model-item",{key:o,attrs:{label:"端口映射"}},[n("a-input",{attrs:{value:e.hostPort+":"+e.containerPort,disabled:""}},[n("a-tooltip",{attrs:{slot:"suffix",title:"移除此映射"},slot:"suffix"},[n("a-icon",{staticStyle:{color:"red"},attrs:{type:"close-circle"},on:{click:function(n){return t.removePortMapping(e)}}})],1)],1)],1)})),n("div",{staticStyle:{display:"flex","justify-content":"center"}},[n("a-space",[n("a-button",{on:{click:function(e){return t.$parent.upStep()}}},[n("a-icon",{attrs:{type:"arrow-left"}}),t._v(" 上一步 ")],1),n("a-button",{on:{click:function(e){t.mappingPortVisible=!0}}},[n("a-icon",{attrs:{type:"plus-circle"}}),t._v(" 新增映射 ")],1),n("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.$parent.nextStep()}}},[t._v(" 下一步 "),n("a-icon",{attrs:{type:"arrow-right"}})],1)],1)],1),n("a-modal",{attrs:{title:"配置端口映射"},on:{ok:t.addPortMapping},model:{value:t.mappingPortVisible,callback:function(e){t.mappingPortVisible=e},expression:"mappingPortVisible"}},[n("a-form-model",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}},model:{value:t.portMapping,callback:function(e){t.portMapping=e},expression:"portMapping"}},[n("a-form-model-item",{attrs:{label:"宿主机端口"}},[n("a-input",{attrs:{type:"number",min:0,max:65535},model:{value:t.portMapping.hostPort,callback:function(e){t.$set(t.portMapping,"hostPort",e)},expression:"portMapping.hostPort"}})],1),n("a-form-model-item",{attrs:{label:"容器端口"}},[n("a-input",{attrs:{type:"number",min:0,max:65535},model:{value:t.portMapping.containerPort,callback:function(e){t.$set(t.portMapping,"containerPort",e)},expression:"portMapping.containerPort"}})],1)],1)],1)],2)},y=[],x=n("5530"),C=n("2f62"),w={name:"ContainerNetworkInfo",data:function(){return{form:{},mappingPortVisible:!1,portMapping:{hostPort:null,containerPort:null},labelCol:{span:4},wrapperCol:{span:20},addBtnCol:{wrapperCol:{xs:{span:24,offset:0},sm:{span:24,offset:4}}}}},mounted:function(){this.form=this.$store.state.container.createContainerStore,this.updateNetworkList()},methods:Object(x["a"])(Object(x["a"])({},Object(C["b"])({updateNetworkList:"updateNetworkList"})),{},{addPortMapping:function(){var t=this.portMapping,e=t.hostPort,n=t.containerPort;e&&n?e<1||e>65535||n<1||n>65535?this.$message.error({content:"配置错误，端口的范围在1~65535"}):(this.mappingPortVisible=!1,this.form.portMapping.push({hostPort:e,containerPort:n})):this.$message.error({content:"配置错误，无效的端口"})},removePortMapping:function(t){var e=this.form.portMapping.indexOf(t);-1!==e&&this.form.portMapping.splice(e,1)}}),computed:{networkList:function(){return this.$store.state.network.list}}},k=w,I=Object(l["a"])(k,g,y,!1,null,"90d917a0",null),S=I.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-form-model",{attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol}},t._l(t.form.envList,(function(e,o){return n("a-form-model-item",{key:o,attrs:{label:"环境变量"}},[n("a-input",{attrs:{disabled:""},model:{value:e.path,callback:function(n){t.$set(e,"path",n)},expression:"env.path"}},[n("a-tooltip",{attrs:{slot:"suffix",title:"移除此变量"},slot:"suffix"},[n("a-icon",{staticStyle:{color:"red"},attrs:{type:"close-circle"},on:{click:function(n){return t.removeEnv(e.path)}}})],1)],1)],1)})),1),n("div",{staticClass:"btnGroup",staticStyle:{display:"flex","justify-content":"center"}},[n("a-button",{on:{click:function(e){return t.$parent.upStep()}}},[n("a-icon",{attrs:{type:"arrow-left"}}),t._v(" 上一步 ")],1),n("a-button",{on:{click:function(e){t.envVisible=!0}}},[n("a-icon",{attrs:{type:"plus-circle"}}),t._v(" 新增变量 ")],1),n("a-button",{on:{click:function(e){t.showImageEnv=!0}}},[n("a-icon",{attrs:{type:"profile"}}),t._v(" 镜像内置环境变量 ")],1),n("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.$parent.nextStep()}}},[t._v(" 下一步 "),n("a-icon",{attrs:{type:"arrow-right"}})],1)],1),n("a-modal",{attrs:{title:"镜像内置环境变量"},model:{value:t.showImageEnv,callback:function(e){t.showImageEnv=e},expression:"showImageEnv"}},[n("a-form-model",{staticStyle:{"max-height":"500px","overflow-y":"auto"},attrs:{"label-col":{span:4},"wrapper-col":{span:24}}},t._l(t.ImageEnvList,(function(e){return n("a-form-model-item",{key:e.path},[n("a-input",{model:{value:e.path,callback:function(n){t.$set(e,"path",n)},expression:"env.path"}})],1)})),1)],1),n("a-modal",{attrs:{title:"配置端口映射"},on:{ok:t.addEnvConfig},model:{value:t.envVisible,callback:function(e){t.envVisible=e},expression:"envVisible"}},[n("a-form-model",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}},model:{value:t.env,callback:function(e){t.env=e},expression:"env"}},[n("a-form-model-item",{attrs:{label:"环境变量键"}},[n("a-input",{model:{value:t.env.key,callback:function(e){t.$set(t.env,"key",e)},expression:"env.key"}})],1),n("a-form-model-item",{attrs:{label:"环境变量值"}},[n("a-input",{model:{value:t.env.value,callback:function(e){t.$set(t.env,"value",e)},expression:"env.value"}})],1)],1)],1)],1)},O=[],P=(n("96cf"),n("1da1")),_=n("3dad"),E=n("2ef0"),D=n.n(E),M={name:"ContainerEnvInfo",data:function(){return{form:{},envVisible:!1,ImageEnvList:[],showImageEnv:!1,labelCol:{span:4},wrapperCol:{span:20},env:{key:"",value:""},addBtnCol:{wrapperCol:{xs:{span:24,offset:0},sm:{span:24,offset:4}}}}},mounted:function(){var t=this;return Object(P["a"])(regeneratorRuntime.mark((function e(){var n,o,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.form=t.$store.state.container.createContainerStore,n=t.form.imageId,e.next=4,_["a"].getImageInfo(n);case 4:for(o=e.sent,r=o.data,a=D.a.get(r,"ContainerConfig.Env",[]),t.ImageEnvList=[],i=0;i<a.length;i++)t.ImageEnvList.push({path:a[i]});case 9:case"end":return e.stop()}}),e)})))()},methods:Object(x["a"])(Object(x["a"])({},Object(C["b"])({getImageInfo:"getImageInfo"})),{},{addEnvConfig:function(){""!==this.env.key.trim()&&""!==this.env.value.trim()?(this.form.envList.push({path:this.env.key+"="+this.env.value}),this.envVisible=!1):this.$message.warn("环境变量的键或者值无效")},removeEnv:function(t){var e=this.form.envList.indexOf(t);-1!==e&&this.form.envList.splice(e,1)}})},j=M,N=(n("56a8"),Object(l["a"])(j,$,O,!1,null,null,null)),L=N.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-alert",{attrs:{message:"确定您的配置",description:t.message,type:"success","show-icon":""}}),n("div",{staticStyle:{display:"flex","justify-content":"center","flex-direction":"column"}},[n("div",{staticClass:"btnGroup",staticStyle:{display:"flex","justify-content":"center"}},[n("a-button",{on:{click:function(e){return t.$parent.upStep()}}},[n("a-icon",{attrs:{type:"arrow-left"}}),t._v(" 上一步 ")],1),n("a-button",{attrs:{type:"danger"},on:{click:t.$parent.cancelRunNewContainer}},[n("a-icon",{attrs:{type:"close-circle"}}),t._v(" 取消创建 ")],1),n("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.createContainer}},[n("a-icon",{attrs:{type:"check-circle"}}),t._v(" 确定创建 ")],1)],1)])],1)},F=[],V=n("c57a"),T={name:"ContainerComplete",data:function(){return{form:{},message:"恭喜您完成容器运行前的各项配置，现在请检查配置是否正确，如果正确请点击 '确定创建' 按钮开始创建容器!",labelCol:{span:4},wrapperCol:{span:20},addBtnCol:{wrapperCol:{xs:{span:24,offset:0},sm:{span:24,offset:4}}}}},mounted:function(){this.form=this.$store.state.container.createContainerStore},methods:{createContainer:function(){var t=this;return Object(P["a"])(regeneratorRuntime.mark((function e(){var n,o,r,a,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,V["a"].createNewContainer(t.form);case 2:n=e.sent,o=n.data,r=o.Data,a=o.Code,i=o.Msg,c=t,"OK"===a?t.$info({title:"容器创建成功",content:"容器已经创建成功并启动,容器ID=".concat(r),okText:"查看容器",onOk:function(){c.$router.push("/content/container?searchKey=".concat(r))}}):t.$error({title:"容器创建失败或启动异常",content:"异常原因:".concat(i),okText:"知道了"});case 6:case"end":return e.stop()}}),e)})))()}}},B=T,A=(n("324b"),Object(l["a"])(B,R,F,!1,null,"6620f8a8",null)),U=A.exports,z=[{title:"基础信息"},{title:"存储信息"},{title:"网络信息"},{title:"环境信息"},{title:"完成配置"}],G={name:"CreateContainer",components:{ContainerBaseInfo:f,ContainerStoreInfo:b,ContainerNetworkInfo:S,ContainerEnvInfo:L,ContainerComplete:U},data:function(){return{stepsInfo:z,currentStepIndex:0}},methods:{upStep:function(){this.currentStepIndex>0&&this.currentStepIndex--},nextStep:function(){this.currentStepIndex<z.length&&this.currentStepIndex++},cancelRunNewContainer:function(){this.$router.push("/content/image")},onStepChange:function(t){this.currentStepIndex=t}}},J=G,K=(n("1d4e"),Object(l["a"])(J,o,r,!1,null,"bc03a986",null));e["default"]=K.exports},b64b:function(t,e,n){var o=n("23e7"),r=n("7b0b"),a=n("df75"),i=n("d039"),c=i((function(){a(1)}));o({target:"Object",stat:!0,forced:c},{keys:function(t){return a(r(t))}})},c4ca:function(t,e,n){},c57a:function(t,e,n){"use strict";n("99af");var o=n("bc3a"),r=n.n(o),a=n("218c"),i=n.n(a),c={start:"启动",restart:"重启",stop:"停止",pause:"暂停",unpause:"继续",prune:"精简"};function s(t){var e=c[t];return e||"未知操作"}function l(t){var e=r.a.post("/api/container/run/complex",t);return y(e),e}function u(t){var e=this,n=r.a.get("/api/container/".concat(t,"/log"));return n.catch((function(){e.$notification["warning"]({message:"操作失败",description:"操作失败,请检查 Docker 服务是否正常"})})),n}function f(t,e,n){var o=this,a=r.a.get("/api/container/".concat(t,"/").concat(e));return a.catch((function(){o.$notification["error"]({message:"".concat(n,"容器失败"),description:"".concat(n,"容器失败,请检查 Docker 服务是否正常")})})),a}function p(t,e){var n=r.a.get("/api/container/".concat(t,"/rename/").concat(e));return y(n)}function m(t,e){return r.a.get("/api/container/".concat(t,"/delete"),{params:e})}function d(t){var e={withCredentials:!0,timeout:6e5},n={responseType:"blob",Authorization:localStorage.token};return r.a.create(e).get("/api/container/".concat(t,"/log/all"),{headers:n})}function h(t,e,n,o){var a=r.a.get("/api/container/".concat(t,"/exec/").concat(e,"/").concat(n,"/").concat(o,"/resize"));return y(a)}function v(t){var e=r.a.get("/api/container/".concat(t,"/command/exec"));return y(e)}function b(t,e){var n={withCredentials:!0,timeout:6e5},o={responseType:"blob",Authorization:localStorage.token};return r.a.create(n).get("/api/container/fs?containerId=".concat(t,"&filePath=").concat(e),{headers:o})}function g(t){return r.a.get("/api/container/".concat(t,"/monitor/info"))}function y(t){return t.then((function(t){var e=t.data,n=e.Code,o=e.Msg;"OK"!==n&&i.a["warning"]({message:"操作失败",description:o})})).catch((function(){i.a["error"]({message:"系统API访问异常",description:"操作失败,请检查 Docker 服务是否正常"})})),t}e["a"]={monitorContainer:g,resizeContainer:h,createNewContainer:l,createNewContainerExec:v,removeContainer:m,controlContainer:f,getContainerLog:u,getContainerAllLog:d,getOperatorNameByState:s,downloadFileFromContainer:b,renameContainer:p}},c8d2:function(t,e,n){var o=n("d039"),r=n("5899"),a="​᠎";t.exports=function(t){return o((function(){return!!r[t]()||a[t]()!=a||r[t].name!==t}))}},dbb4:function(t,e,n){var o=n("23e7"),r=n("83ab"),a=n("56ef"),i=n("fc6a"),c=n("06cf"),s=n("8418");o({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,n,o=i(t),r=c.f,l=a(o),u={},f=0;while(l.length>f)n=r(o,e=l[f++]),void 0!==n&&s(u,e,n);return u}})},e439:function(t,e,n){var o=n("23e7"),r=n("d039"),a=n("fc6a"),i=n("06cf").f,c=n("83ab"),s=r((function(){i(1)})),l=!c||s;o({target:"Object",stat:!0,forced:l,sham:!c},{getOwnPropertyDescriptor:function(t,e){return i(a(t),e)}})}}]);
//# sourceMappingURL=chunk-0365bc82.bb365fcb.js.map