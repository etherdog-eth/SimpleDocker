(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d67553c"],{"159b":function(t,e,n){var a=n("da84"),r=n("fdbc"),o=n("17c2"),i=n("9112");for(var c in r){var s=a[c],l=s&&s.prototype;if(l&&l.forEach!==o)try{i(l,"forEach",o)}catch(u){l.forEach=o}}},"17c2":function(t,e,n){"use strict";var a=n("b727").forEach,r=n("a640"),o=n("ae40"),i=r("forEach"),c=o("forEach");t.exports=i&&c?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"329b":function(t,e,n){"use strict";n("e068")},4160:function(t,e,n){"use strict";var a=n("23e7"),r=n("17c2");a({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"498a":function(t,e,n){"use strict";var a=n("23e7"),r=n("58a8").trim,o=n("c8d2");a({target:"String",proto:!0,forced:o("trim")},{trim:function(){return r(this)}})},"4cf2":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"imageContainer"},[n("a-form",{attrs:{layout:"inline",form:t.form}},[n("a-form-item",[n("a-input",{directives:[{name:"focus",rawName:"v-focus"}],staticStyle:{width:"400px"},attrs:{placeholder:"搜索关键词"},on:{change:t.onSearchKeyChange},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}},[n("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"search"},slot:"prefix"})],1)],1),n("a-form-item",[n("a-space",[n("a-button",{attrs:{"html-type":"reset"},on:{click:t.reloadContainer}},[n("a-icon",{attrs:{type:"reload"}}),t._v(" 刷新 ")],1),n("a-tooltip",[n("template",{slot:"title"},[t._v("删除未运行的容器")]),n("a-button",{attrs:{"html-type":"reset",type:"danger"},on:{click:function(e){return t.cleanNotRunContainer("all")}}},[n("a-icon",{attrs:{type:"delete"}}),t._v(" 精简 ")],1)],2),n("a-checkbox",{on:{change:t.onlyRunContainerChanged},model:{value:t.onlyRunContainer,callback:function(e){t.onlyRunContainer=e},expression:"onlyRunContainer"}},[t._v(" 仅显示运行中的容器 ")])],1)],1)],1),n("a-table",{staticStyle:{"margin-top":"30px"},attrs:{columns:t.columns,"data-source":t.containerList,size:"small",scroll:{x:!0}},scopedSlots:t._u([{key:"containerName",fn:function(e,a){return[n("EditCell",{attrs:{text:a.containerName},on:{change:function(e){return t.onContainerNameChange(a.containerName,a.containerLongId,e)}}})]}},{key:"imageName",fn:function(e,n){return[t._v(" "+t._s(n.imageName)+" ")]}},{key:"action",fn:function(e,a){return n("span",{},[n("a-space",[-1!==["已停止","已创建"].indexOf(a.state)?[n("a-tooltip",[n("template",{slot:"title"},[t._v("启动")]),n("a-icon",{staticStyle:{color:"#52c41a","font-size":"18px"},attrs:{type:"play-circle"},on:{click:function(e){return t.callControlContainerApi(a.containerId,"start")}}})],2),n("a-divider",{attrs:{type:"vertical"}})]:t._e(),-1!==["暂停中"].indexOf(a.state)?[n("a-tooltip",[n("template",{slot:"title"},[t._v("继续")]),n("a-icon",{staticStyle:{color:"#52c41a","font-size":"18px"},attrs:{type:"right-circle"},on:{click:function(e){return t.callControlContainerApi(a.containerId,"unpause")}}})],2),n("a-divider",{attrs:{type:"vertical"}})]:t._e(),"运行中"===a.state?[n("a-tooltip",[n("template",{slot:"title"},[t._v("停止")]),n("a-icon",{staticStyle:{color:"orangered","font-size":"18px"},attrs:{type:"poweroff"},on:{click:function(e){return t.callControlContainerApi(a.containerId,"stop")}}})],2),n("a-divider",{attrs:{type:"vertical"}})]:t._e(),n("a-tooltip",[n("template",{slot:"title"},[t._v("终端命令")]),n("a-icon",{staticStyle:{color:"darkslategray","font-size":"18px"},attrs:{type:"code"},on:{click:function(e){return t.openTerminal(a.state,a.containerId)}}})],2),n("a-divider",{attrs:{type:"vertical"}}),n("a-tooltip",[n("template",{slot:"title"},[t._v("文件管理")]),n("a-icon",{staticStyle:{color:"darkslategray","font-size":"18px"},attrs:{type:"file-pdf"},on:{click:function(e){return t.openFileManagementModal(a.state,a.containerId)}}})],2),n("a-divider",{attrs:{type:"vertical"}}),n("a-tooltip",[n("template",{slot:"title"},[t._v("性能监控")]),n("a-icon",{staticStyle:{color:"darkslategray","font-size":"18px"},attrs:{type:"bar-chart"},on:{click:function(e){return t.openContainerMonitor(a.state,a.containerId)}}})],2),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link",on:{click:function(t){return t.preventDefault()}}},[n("a-icon",{staticStyle:{color:"darkslategray","font-size":"18px"},attrs:{type:"down-circle"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"containerLog"},[n("a",{on:{click:function(e){return t.openContainerLogModal(a.containerId)}}},[n("a-icon",{attrs:{type:"profile"}}),t._v(" 容器日志 ")],1)]),n("a-menu-item",[n("a",{on:{click:function(e){return t.openDetail(a.containerId)}}},[n("a-icon",{attrs:{type:"container"}}),t._v(" 容器详情 ")],1)]),n("a-menu-item",[n("a",{on:{click:function(e){return t.exposeContainer(a.containerId)}}},[n("a-icon",{attrs:{type:"download"}}),t._v(" 导出容器 ")],1)]),n("a-menu-item",[n("a",{on:{click:function(e){return t.callControlContainerApi(a.containerId,"restart")}}},[n("a-icon",{attrs:{type:"reload"}}),t._v(" 重启容器 ")],1)]),n("a-menu-item",[n("a",{on:{click:function(e){return t.callControlContainerApi(a.containerId,"pause")}}},[n("a-icon",{attrs:{type:"pause"}}),t._v(" 暂停容器 ")],1)]),n("a-menu-item",[n("a",{on:{click:function(e){return t.openRemoveDetail(a.containerId)}}},[n("a-icon",{attrs:{type:"delete"}}),t._v(" 删除容器 ")],1)]),n("a-menu-item",[n("a",{on:{click:function(e){return t.openNetworkConnectModal(a.containerId)}}},[n("a-icon",{attrs:{type:"container"}}),t._v(" 网络管理 ")],1)])],1)],1)],2)],1)}}])}),n("a-drawer",{attrs:{placement:"right",width:"800px",visible:t.showContainerDetail},on:{close:t.onDrawClosed}},[n("a-collapse",{attrs:{activeKey:["info"]}},[n("a-collapse-panel",{key:"info",attrs:{header:"容器信息"}},[n("p",[t._v("Id: "+t._s(t.containerInfo.Id))]),n("p",[t._v("名称: "+t._s(t.containerInfo.Name))]),n("p",[t._v("平台: "+t._s(t.containerInfo.Platform))]),n("p",[t._v("启动参数: "+t._s(t.containerInfo.Args))]),n("p",[t._v("容器状态: "+t._s(t.containerInfo.State.Status))]),n("p",[t._v("存储驱动: "+t._s(t.containerInfo.Driver))]),n("p",[t._v("自动重启次数: "+t._s(t.containerInfo.RestartCount))])]),n("a-collapse-panel",{key:"webConfig",attrs:{header:"网络配置"}},[n("p",[t._v("端口映射表")]),n("table",{staticClass:"configTable"},[n("tr",[n("td",[t._v("容器端口")]),n("td",[t._v("宿主机端口")])]),t._l(this.containerPorts,(function(e){return[n("tr",[n("td",[t._v(t._s(e.containerPort))]),n("td",[t._v(" "+t._s(e.portConfig))])])]}))],2),n("p",[t._v("网络地址")]),t._l(t.containerNetworkInfo,(function(e,a){return[n("table",{key:a,staticClass:"configTable"},[n("tr",[n("td",{staticClass:"tagTd"},[t._v("网络名")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(a))])]),n("tr",[n("td",{staticClass:"tagTd"},[t._v("网络ID")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(e.NetworkID))])]),n("tr",[n("td",{staticClass:"tagTd"},[t._v("网关地址")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(e.Gateway))])]),n("tr",[n("td",{staticClass:"tagTd"},[t._v("IP 地址")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(e.IPAddress))])]),n("tr",[n("td",{staticClass:"tagTd"},[t._v("Mac 地址")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(t._s(e.MacAddress))])])])]}))],2),n("a-collapse-panel",{key:"volumeConfig",attrs:{header:"存储配置"}},[t._l(t.containerMountInfo,(function(e,a){return[n("table",{key:a,staticClass:"configTable"},[n("tr",[n("td",{staticClass:"tagTd"},[t._v("名称")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(e.Name))])]),n("tr",[n("td",{staticClass:"tagTd"},[t._v("类型")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(e.Type))])]),n("tr",[n("td",{staticClass:"tagTd"},[t._v("可读写")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(e.RW))])]),n("tr",[n("td",{staticClass:"tagTd"},[t._v("宿主目录")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(e.Source))])]),n("tr",[n("td",{staticClass:"tagTd"},[t._v("容器目录")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(e.Destination))])])])]}))],2)],1)],1),n("a-modal",{attrs:{title:"最近日志(200行)",width:"60%",okText:"下载全部",cancelText:"关闭"},on:{ok:function(e){return t.downloadAllLog()}},model:{value:t.showLogVisible,callback:function(e){t.showLogVisible=e},expression:"showLogVisible"}},[n("pre",{staticStyle:{"overflow-y":"scroll","overflow-x":"auto",height:"400px"}},[t._v(t._s(this.formatLog))])]),n("a-modal",{attrs:{title:"连接/断开 网络",width:"600px",okText:"确定",footer:null,cancelText:"关闭"},model:{value:t.connectNetworkConnectModal,callback:function(e){t.connectNetworkConnectModal=e},expression:"connectNetworkConnectModal"}},[n("a-form-model",{staticStyle:{"overflow-y":"scroll","overflow-x":"auto",height:"350px"},attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[t._l(this.$store.state.network.list,(function(e){return[n("div",{key:e.Id,staticStyle:{display:"flex","justify-content":"space-around","align-items":"center"}},[n("div",{staticStyle:{"flex-grow":"1"}},[t._v(t._s(e.Id))]),n("div",{staticStyle:{"flex-grow":"2"}},[t._v(" "+t._s(e.Name))]),n("div",{staticStyle:{padding:"5px"}},[-1!==t.connectNetworkList.indexOf(e.Name)?[n("a-button",{attrs:{type:"danger"},on:{click:function(n){return t.operatorNetwork("disconnect",e.LongId)}}},[n("a-icon",{attrs:{type:"disconnect"}}),t._v(" 断开 ")],1)]:[n("a-button",{attrs:{type:"primary"},on:{click:function(n){return t.operatorNetwork("connect",e.LongId)}}},[n("a-icon",{attrs:{type:"api"}}),t._v(" 连接 ")],1)]],2)]),n("a-divider",{key:e.Id+"_DIVIDER",staticStyle:{margin:"0"}})]}))],2)],1),n("a-modal",{attrs:{title:"删除容器选项",okText:"确定",cancelText:"关闭"},on:{ok:t.callRemoveContainerApi},model:{value:t.showRemoveVisible,callback:function(e){t.showRemoveVisible=e},expression:"showRemoveVisible"}},[n("a-checkbox",{attrs:{checked:t.remove.volume},on:{change:t.removeVolume}},[t._v("移除 Volume")]),n("a-checkbox",{attrs:{checked:t.remove.link},on:{change:t.removeLink}},[t._v("移除 Links")]),n("a-checkbox",{attrs:{checked:t.remove.force},on:{change:t.removeForce}},[t._v("强制移除")])],1)],1)},r=[],o=(n("99af"),n("4de4"),n("c975"),n("b64b"),n("ac1f"),n("5319"),n("498a"),n("9911"),n("96cf"),n("1da1")),i=n("5530"),c=n("2f62"),s=n("c57a"),l=n("ed08"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editable-cell"},[t.editable?n("div",{staticClass:"editable-cell-input-wrapper"},[n("a-input",{staticStyle:{"margin-right":"100px"},attrs:{value:t.value},on:{click:t.edit,change:t.handleChange,pressEnter:t.check}})],1):n("span",{staticClass:"editable-cell-text-wrapper"},[t._v(" "+t._s(t.value||" ")+" "),n("a-icon",{staticClass:"editable-cell-icon",attrs:{type:"edit"},on:{click:t.edit}})],1)])},d=[],f={name:"EditCell",props:{text:String},data:function(){return{oldName:"",value:this.text,editable:!1}},mounted:function(){this.oldName=this.value},methods:{handleChange:function(t){var e=t.target.value;this.value=e},check:function(){if(this.editable=!1,""===this.value.trim())return this.$notification["warning"]({message:"操作失败",description:"操作失败,容器名称不能为空"}),void(this.value=this.oldName);this.$emit("change",this.value)},edit:function(){this.editable=!0}}},p=f,v=(n("8457"),n("2877")),h=Object(v["a"])(p,u,d,!1,null,"4de2a3fe",null),g=h.exports,m=[{title:"容器ID",key:"containerId",dataIndex:"containerId"},{title:"名称",dataIndex:"containerName",key:"containerName",width:"300px",scopedSlots:{customRender:"containerName"}},{title:"镜像",dataIndex:"imageName",key:"imageName",scopedSlots:{customRender:"imageName"}},{title:"状态",dataIndex:"state",width:"60px",key:"state"},{title:"创建时间",key:"created",width:"180px",dataIndex:"created"},{title:"操作",key:"action",width:"50px",fixed:"right",scopedSlots:{customRender:"action"}}],y={components:{EditCell:g},data:function(){return{form:{},showLogVisible:!1,showContainerDetail:!1,showRemoveVisible:!1,showFileModal:!1,connectNetworkConnectModal:!1,currentContainerId:"",containerLog:"",searchKey:"",columns:m,onlyRunContainer:!1,remove:{volume:!0,link:!1,force:!0}}},computed:{containerList:function(){var t=this,e=this.$store.state.container.containerList;if(""!==this.searchKey&&""!==this.searchKey.trim()){var n=function(e){return e.containerLongId.indexOf(t.searchKey)>=0},a=function(e){return e.containerName.indexOf(t.searchKey)>=0},r=function(e){return e.imageName.indexOf(t.searchKey)>=0};e=e.filter((function(t){return n(t)||a(t)||r(t)}))}return this.onlyRunContainer?e.filter((function(t){return"运行中"===t.state})):e},containerInfo:function(){return this.$store.state.container.containerInfo},containerMountInfo:function(){var t=this.containerInfo.Mounts;return t||[]},containerNetworkInfo:function(){var t=this.containerInfo.NetworkSettings;return t?t.Networks:{}},containerPorts:function(){var t=[],e=this.$store.state.container.containerInfo.HostConfig.PortBindings;if(!e)return t;var n=Object.keys(e);for(var a in n){var r=n[a],o=e[r];for(var i in o){var c=o[i];t.push({containerPort:r,portConfig:c.HostPort})}}return t},formatLog:function(){var t="";return t=this.containerLog.replace("/\r\n/g","<br/>"),t=t.replace("\n/g","<br/>"),t.replace("/s/g","&nbsp;")},connectNetworkList:function(){return Object.keys(this.containerNetworkInfo)}},mounted:function(){var t=this.$route.query.searchKey;t&&(this.searchKey=t),this.updateContainerList()},methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])({updateContainerList:"updateContainerList",updateContainerInfo:"updateContainerInfo",updateNetworkList:"updateNetworkList"})),{},{onContainerNameChange:function(t,e,n){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var o,i,c,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n!==t){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,s["a"].renameContainer(e,n);case 4:o=r.sent,i=o.data,c=i.Code,l=i.Msg,"OK"===c?(a.$notification["info"]({message:"操作完成",description:"重命名容器完成"}),a.updateContainerList()):(a.$notification["error"]({message:"操作失败",description:l}),a.updateContainerList());case 7:case"end":return r.stop()}}),r)})))()},onSearchKeyChange:function(t){this.searchKey=t.target.value},openDetail:function(t){this.showContainerDetail=!0,this.updateContainerInfo(t)},onDrawClosed:function(){this.showContainerDetail=!1},reloadContainer:function(){this.updateContainerList(),this.$message.info("刷新容器列表完成")},downloadAllLog:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.showLogVisible=!1,n=t.$success({title:"正在导出,请稍等...",content:"正在导出，稍后会自动下载......."}),a=t.currentContainerId,e.prev=3,e.next=6,s["a"].getContainerAllLog(a);case 6:r=e.sent,t.$message.info("获取容器全部日志完成,正在下载，请稍后...."),Object(l["download"])(r.data,"".concat(a,"-all.log"));case 9:return e.prev=9,n.destroy(),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[3,,9,12]])})))()},removeVolume:function(t){this.remove.volume=t.target.checked},removeLink:function(t){this.remove.link=t.target.checked},removeForce:function(t){this.remove.force=t.target.checked},openRemoveDetail:function(t){this.showRemoveVisible=!0,this.currentContainerId=t},onlyRunContainerChanged:function(t){this.onlyRunContainer=t.target.checked},callRemoveContainerApi:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,a,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].removeContainer(t.currentContainerId,t.remove);case 2:n=e.sent,a=n.data,r=a.Code,o=a.Msg,"OK"===r?(t.$message.info("移除容器成功"),t.showRemoveVisible=!1,t.updateContainerList()):t.$message.error(o);case 5:case"end":return e.stop()}}),e)})))()},cleanNotRunContainer:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=e,r="prune",o=s["a"].getOperatorNameByState(r),e.$confirm({title:"".concat(o,"提示"),content:"此操作将清空所有未处于运行中的容器，包含停止运行或者计划运行的容器，是否继续?",okText:"好",cancelText:"取消",onOk:function(){a.callControlContainerApi(t,r)}});case 4:case"end":return n.stop()}}),n)})))()},callControlContainerApi:function(t,e){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,o,i,c,u,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e){a.next=2;break}return a.abrupt("return");case 2:return r=s["a"].getOperatorNameByState(e),o=Object(l["guid"])(),n.$message.loading({content:"正在".concat(r," 容器，请稍后....."),key:o,duration:0}),a.prev=5,a.next=8,s["a"].controlContainer(t,e,r);case 8:i=a.sent,c=i.data,u=c.Code,d=c.Msg,"OK"===u?(n.$message.info({content:"".concat(r," 容器成功"),key:o}),n.updateContainerList()):n.$message.info({content:d,key:o}),a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](5),n.$message.error({content:"服务连接失败，请检查服务是否正常启动",key:o});case 16:case"end":return a.stop()}}),a,null,[[5,13]])})))()},openContainerLogModal:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a,r,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.showLogVisible=!0,e.currentContainerId=t,n.next=4,s["a"].getContainerLog(t);case 4:a=n.sent,r=a.data,o=r.Code,i=r.Data,"OK"===o&&(e.containerLog=i,e.showLogVisible=!0);case 7:case"end":return n.stop()}}),n)})))()},exposeContainer:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=Object(l["guid"])(),e.$message.loading({content:"正在导出容器数据，请稍后....",key:a,duration:0}),r={responseType:"blob",Authorization:localStorage.token},e.$axios.get("/api/container/".concat(t,"/export"),{headers:r}).then((function(n){Object(l["download"])(n.data,"".concat(t,".tar.gz")),e.$message.info({content:"容器已成功导出并下载....",key:a})})).catch((function(){e.$message.error({content:"容器导出失败,请检查 Docker 服务是否正常",key:a})}));case 4:case"end":return n.stop()}}),n)})))()},openNetworkConnectModal:function(t){this.connectNetworkConnectModal=!0,this.updateContainerInfo(t),this.updateNetworkList(),this.currentContainerId=t},operatorNetwork:function(t,e){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r="connect"===t?"连接":"断开",n.$axios.get("/api/network/".concat(e,"/container/").concat(n.currentContainerId,"/").concat(t)).then((function(t){var e=t.data,a=e.Code,o=e.Msg;"OK"===a?n.$message.info("".concat(r," 网络完成！")):n.$message.warning("".concat(r," 失败,").concat(o)),n.updateContainerInfo(n.currentContainerId)})).catch((function(){n.$message.error({content:"".concat(r," 网络 失败, 请检查 Docker 服务是否正常")})}));case 2:case"end":return a.stop()}}),a)})))()},openTerminal:function(t,e){if("运行中"===t){var n=this.$router,a=function(){var t=n.resolve({path:"/terminal/console",query:{containerId:e}});window.open(t.href,"_blank")};this.$confirm({title:"运行提示",content:"目前终端仅支持基于 Linux 平台的容器,在使用前请确认是否是Linux平台的容器，否则可能出现各种未知的错误 !!!",okText:"确定",cancelText:"取消",onOk:function(){a()}})}else this.$message.error("容器尚未运行，不能打开终端管理界面")},openFileManagementModal:function(t,e){if("运行中"===t){var n=this.$router;this.currentContainerId=e;var a=function(){var t=n.resolve({path:"/terminal/file",query:{containerId:e}});window.open(t.href,"_blank")};this.$confirm({title:"运行提示",content:"目前文件管理仅支持基于 Linux/64位 平台的容器,在使用前请确认容器是否是 Linux/64位平台的容器，否则可能出现各种未知的错误 !!!",okText:"确定",cancelText:"取消",onOk:function(){a()}})}else this.$message.error("容器尚未运行，不能打开文件管理界面")},openContainerMonitor:function(t,e){if("运行中"===t){var n=this.$router.resolve({path:"/terminal/monitor",query:{containerId:e}});window.open(n.href,"_blank")}else this.$message.error("容器尚未运行，不能打开性能监控界面")}})},C=y,k=(n("329b"),Object(v["a"])(C,a,r,!1,null,"4f8fdd3b",null));e["default"]=k.exports},"4de4":function(t,e,n){"use strict";var a=n("23e7"),r=n("b727").filter,o=n("1dde"),i=n("ae40"),c=o("filter"),s=i("filter");a({target:"Array",proto:!0,forced:!c||!s},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var a=n("1d80"),r=n("5899"),o="["+r+"]",i=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),s=function(t){return function(e){var n=String(a(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(c,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},8457:function(t,e,n){"use strict";n("f320")},"857a":function(t,e,n){var a=n("1d80"),r=/"/g;t.exports=function(t,e,n,o){var i=String(a(t)),c="<"+e;return""!==n&&(c+=" "+n+'="'+String(o).replace(r,"&quot;")+'"'),c+">"+i+"</"+e+">"}},9911:function(t,e,n){"use strict";var a=n("23e7"),r=n("857a"),o=n("af03");a({target:"String",proto:!0,forced:o("link")},{link:function(t){return r(this,"a","href",t)}})},af03:function(t,e,n){var a=n("d039");t.exports=function(t){return a((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},b64b:function(t,e,n){var a=n("23e7"),r=n("7b0b"),o=n("df75"),i=n("d039"),c=i((function(){o(1)}));a({target:"Object",stat:!0,forced:c},{keys:function(t){return o(r(t))}})},c57a:function(t,e,n){"use strict";n("99af");var a=n("bc3a"),r=n.n(a),o=n("218c"),i=n.n(o),c={start:"启动",restart:"重启",stop:"停止",pause:"暂停",unpause:"继续",prune:"精简"};function s(t){var e=c[t];return e||"未知操作"}function l(t){var e=r.a.post("/api/container/run/complex",t);return C(e),e}function u(t){var e=this,n=r.a.get("/api/container/".concat(t,"/log"));return n.catch((function(){e.$notification["warning"]({message:"操作失败",description:"操作失败,请检查 Docker 服务是否正常"})})),n}function d(t,e,n){var a=this,o=r.a.get("/api/container/".concat(t,"/").concat(e));return o.catch((function(){a.$notification["error"]({message:"".concat(n,"容器失败"),description:"".concat(n,"容器失败,请检查 Docker 服务是否正常")})})),o}function f(t,e){var n=r.a.get("/api/container/".concat(t,"/rename/").concat(e));return C(n)}function p(t,e){return r.a.get("/api/container/".concat(t,"/delete"),{params:e})}function v(t){var e={withCredentials:!0,timeout:6e5},n={responseType:"blob",Authorization:localStorage.token};return r.a.create(e).get("/api/container/".concat(t,"/log/all"),{headers:n})}function h(t,e,n,a){var o=r.a.get("/api/container/".concat(t,"/exec/").concat(e,"/").concat(n,"/").concat(a,"/resize"));return C(o)}function g(t){var e=r.a.get("/api/container/".concat(t,"/command/exec"));return C(e)}function m(t,e){var n={withCredentials:!0,timeout:6e5},a={responseType:"blob",Authorization:localStorage.token};return r.a.create(n).get("/api/container/fs?containerId=".concat(t,"&filePath=").concat(e),{headers:a})}function y(t){return r.a.get("/api/container/".concat(t,"/monitor/info"))}function C(t){return t.then((function(t){var e=t.data,n=e.Code,a=e.Msg;"OK"!==n&&i.a["warning"]({message:"操作失败",description:a})})).catch((function(){i.a["error"]({message:"系统API访问异常",description:"操作失败,请检查 Docker 服务是否正常"})})),t}e["a"]={monitorContainer:y,resizeContainer:h,createNewContainer:l,createNewContainerExec:g,removeContainer:p,controlContainer:d,getContainerLog:u,getContainerAllLog:v,getOperatorNameByState:s,downloadFileFromContainer:m,renameContainer:f}},c8d2:function(t,e,n){var a=n("d039"),r=n("5899"),o="​᠎";t.exports=function(t){return a((function(){return!!r[t]()||o[t]()!=o||r[t].name!==t}))}},dbb4:function(t,e,n){var a=n("23e7"),r=n("83ab"),o=n("56ef"),i=n("fc6a"),c=n("06cf"),s=n("8418");a({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,n,a=i(t),r=c.f,l=o(a),u={},d=0;while(l.length>d)n=r(a,e=l[d++]),void 0!==n&&s(u,e,n);return u}})},e068:function(t,e,n){},e439:function(t,e,n){var a=n("23e7"),r=n("d039"),o=n("fc6a"),i=n("06cf").f,c=n("83ab"),s=r((function(){i(1)})),l=!c||s;a({target:"Object",stat:!0,forced:l,sham:!c},{getOwnPropertyDescriptor:function(t,e){return i(o(t),e)}})},f320:function(t,e,n){}}]);
//# sourceMappingURL=chunk-6d67553c.a5c1ddb3.js.map